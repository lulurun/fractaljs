{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap a56a7238531f25ff3fcf","webpack:///./index.js","webpack:///./dist/fractal.js","webpack:///./dist ^\\.\\/.*$","webpack:///./app/main.js","webpack:///./app/list.js","webpack:///./template/list.html"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;;;;;;;ACNA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH,6CAA4C;AAC5C;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA,4EAA2E,uBAAuB;AAClG,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH,wCAAuC;AACvC;AACA;AACA,IAAG;AACH;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX,UAAS;AACT,QAAO;AACP,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,EAAC;;AAED;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iDAAgD;AAChD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAe,OAAO,oBAAoB,MAAM,MAAM,OAAO,OAAO,OAAO,mCAAmC,OAAO;AACrH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL;AACA,EAAC;;AAED;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,oBAAmB;AACnB;AACA,MAAK;AACL;AACA;;AAEA;AACA,wC;;;;;;ACnQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC,uDAAuD;AACxF;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACfA;AACA;AACA,EAAC;;;;;;;;ACFD;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAY;AACZ,IAAG;AACH,EAAC;;;;;;;;ACZD,8CAA6C,IAAI,oBAAoB,MAAM,KAAK,MAAM,eAAe,IAAI,a","file":"bundle.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap a56a7238531f25ff3fcf\n **/","require('./dist/fractal.js')\nrequire('./app/main.js')\nrequire('./app/list.js')\nF.init({\n  render: Mustache.render,\n});\nF.build($(document));\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./index.js\n ** module id = 0\n ** module chunks = 0\n **/","'use strict';\n\n/* Simple JavaScript Inheritance\n * By John Resig http://ejohn.org/\n * MIT Licensed.\n */\n// Inspired by base2 and Prototype\nvar initializing = false;\nvar fnTest = /xyz/.test(function () {\n  xyz;\n}) ? /\\b_super\\b/ : /.*/;\nvar Class = function Class() {};\nClass.extend = function (prop) {\n  var _super = this.prototype;\n  var callee = this.extend;\n\n  initializing = true;\n  var prototype = new this();\n  initializing = false;\n\n  for (var name in prop) {\n    prototype[name] = typeof prop[name] == \"function\" && typeof _super[name] == \"function\" && fnTest.test(prop[name]) ? function (name, fn) {\n      return function () {\n        var tmp = this._super;\n        this._super = _super[name];\n\n        var ret = fn.apply(this, arguments);\n        this._super = tmp;\n\n        return ret;\n      };\n    }(name, prop[name]) : prop[name];\n  }\n\n  var Class = function Class() {\n    if (!initializing && this.init) this.init.apply(this, arguments);\n  };\n\n  Class.prototype = prototype;\n  Class.prototype.constructor = Class;\n\n  Class.extend = this.extend;\n  return Class;\n};\n\nvar topics = {};\nvar seq = 0;\nvar Pubsub = {\n  publish: function publish(topic, data, publisher) {\n    var subscribers = topics[topic];\n    for (var i in subscribers) {\n      subscribers[i].cb(topic, data, publisher);\n    }\n  },\n  subscribe: function subscribe(topic, cb, subscriber) {\n    console.debug(\"subscribe\", topic);\n    if (!topics[topic]) topics[topic] = [];\n    var token = ++seq;\n    topics[topic].push({\n      token: token,\n      subscriber: subscriber,\n      cb: cb\n    });\n    return token;\n  },\n  unsubscribe: function unsubscribe(topic, token) {\n    console.debug(\"unsubscribe\", topic);\n    if (!(topic in topics)) return;\n    var subscribers = topics[topic];\n    for (var i in subscribers) {\n      if (subscribers[i].token === token) {\n        subscribers.splice(i, 1);\n        break;\n      }\n    }\n    if (subscribers.length === 0) delete topics[topic];\n  },\n  getSubscribers: function getSubscribers(topic) {\n    if (!(topic in topics)) return [];\n    return topics[topic].map(function (v) {\n      return v.subscriber;\n    });\n  }\n};\n\nvar Config = {\n  compile: function compile(text) {\n    return text;\n  },\n  render: function render(template, data) {},\n  Pubsub: Pubsub\n};\n\nvar COMPONENT_ATTR = 'f-component';\nvar knownComponents = {};\nvar knownTemplates = {};\n\nvar Component = Class.extend({\n  init: function init(name, $container) {\n    this.name = name;\n    this.$container = $container;\n    this.complete = false;\n    this.subTokens = {};\n    this.$ = this.$container.find.bind(this.$container);\n    this.$container.on('destroyed', this.destroyed.bind(this));\n\n    if (!this.template) {\n      this.template = getTemplate(this.templateName || this.name);\n    }\n  },\n  getData: function getData(cb, param) {\n    if (this.data && typeof this.data === 'function') this.data(cb, param);else cb(this.data || {});\n  },\n  render: function render(data, template, cb, param) {\n    this.$container.html(Config.render(template, data));\n    cb();\n  },\n  rendered: function rendered(param) {},\n  loadChildren: function loadChildren(cb, param) {\n    build(this.$container, param, cb);\n  },\n  loaded: function loaded(cb, param) {\n    cb();\n  },\n  destroyed: function destroyed(param) {\n    for (var topic in this.subTokens) {\n      Config.Pubsub.unsubscribe(this.subTokens[topic]);\n    }\n  },\n  // main entry\n  load: function load(param, cb) {\n    var _this = this;\n\n    param = param || {};\n    console.time('Component.' + this.name);\n    this.complete = false;\n    this.getData(function (data) {\n      _this.render(data, _this.template, function () {\n        _this.rendered(param);\n        _this.loadChildren(function () {\n          _this.complete = true;\n          _this.loaded(function () {\n            console.timeEnd('Component.' + _this.name);\n            _this.$container.removeAttr(COMPONENT_ATTR);\n          }, param);\n        }, param);\n      }, param);\n    }, param);\n  },\n  // pubsub\n  publish: function publish(topic, data) {\n    Config.Pubsub.publish(topic, data, this);\n  },\n  subscribe: function subscribe(topic, cb) {\n    this.subTokens[topic] = Config.Pubsub.subscribe(topic, cb, this);\n  }\n});\n\nfunction build($root, param, cb) {\n  var els = $root.find('[' + COMPONENT_ATTR + ']');\n  if (!els.length) return cb();\n\n  var complete = 0;\n  els.each(function (i, el) {\n    var $container = $(el);\n    var name = $container.attr(COMPONENT_ATTR);\n    var Class = getComponent(name);\n    var c = new Class(name, $container);\n    c.load(param, function () {\n      if (++complete === len) cb();\n    });\n  });\n}\n\nfunction getTemplate(name) {\n  if (name in knownTemplates) {\n    return knownTemplates[name];\n  } else if (require && typeof require === 'function') {\n    var template = require(name);\n    if (template) {\n      if (Config.compile) {\n        template = Config.compile(template);\n      }\n      knownTemplates[name] = template;\n      return template;\n    }\n  }\n  console.error(\"Template not found: \" + name);\n  return \"\";\n}\n\nfunction getComponent(name) {\n  if (name in knownComponents) {\n    return knownComponents[name];\n  } else if (require && typeof require === 'function') {\n    var _Class = require(name);\n    if (_Class) {\n      knownComponents[name] = _Class;\n      return _Class;\n    }\n  }\n  console.error(\"Component not found: \" + name);\n  return Component;\n}\n\nfunction define(name, props, base) {\n  var c = (base || Component).extend(props || {});\n  knownComponents[name] = c;\n  return c;\n}\n\nvar _RE = /^#([0-9a-zA-Z_\\-\\/\\.]+)/;\nvar getComponentName = function getComponentName(hash) {\n  var match = _RE.exec(hash);\n  return match && match[1] || \"\";\n};\n\nvar Router = Component.extend({\n  template: '{{#name}}<div f-component=\"{{name}}\" />{{/name}}' + '{{^name}}`DefaultComponent` is not defined{{/name}}',\n  current: getComponentName(location.hash),\n  init: function init(name, $container) {\n    var _this = this;\n\n    this._super(name, $container);\n    this.subscribe(\"onpopstate\", function (topic, hash) {\n      var component = getComponentName(hash);\n      if (_this.current != component) {\n        _this.current = component;\n        _this.load();\n      }\n    });\n  },\n  data: function data(cb, param) {\n    cb({\n      name: this.current || this.DefaultComponent\n    });\n  }\n});\n\nwindow.onpopstate = function () {\n  Config.Pubsub.publish(\"onpopstate\", location.hash);\n};\n\nvar index = {\n  component: define,\n  Router: Router,\n  init: function init(options) {\n    for (var k in Config) {\n      if (options[k]) Config[k] = options[k];\n    }\n  },\n  build: function build$$($root, cb) {\n    build($root, {}, function () {\n      if (cb) cb();\n    });\n  }\n};\n\nmodule.exports = index;\n//# sourceMappingURL=fractal.cjs.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./dist/fractal.js\n ** module id = 1\n ** module chunks = 0\n **/","var map = {\n\t\"./fractal\": 1,\n\t\"./fractal.js\": 1\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\treturn map[req] || (function() { throw new Error(\"Cannot find module '\" + req + \"'.\") }());\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 2;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./dist ^\\.\\/.*$\n ** module id = 2\n ** module chunks = 0\n **/","module.exports = F.component('main', {\n  DefaultComponent: 'list',\n}, F.Router);\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/main.js\n ** module id = 3\n ** module chunks = 0\n **/","let template = require('../template/list.html');\n\nlet examples = [\n  \"markdown\",\n  \"button\",\n];\n\nmodule.exports = F.component('list', {\n  template: template,\n  data: examples.map(v => {\n    return { href: \"#\" + v, name: v }\n  }),\n});\n\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/list.js\n ** module id = 4\n ** module chunks = 0\n **/","module.exports = \"<h3>Examples</h3>\\n<ul>\\n{{#.}}\\n<li>\\n<a href=\\\"{{href}}\\\">{{name}}</a>\\n</li>\\n{{/.}}\\n</ul>\\n\\n\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./template/list.html\n ** module id = 5\n ** module chunks = 0\n **/"],"sourceRoot":""}