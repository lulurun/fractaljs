{"version":3,"file":"fractal-router.js","sources":["../src/router.js"],"sourcesContent":["const _RE = /^#([0-9a-zA-Z_\\-\\/\\.]+)/;\nlet getComponentName = function(hash) {\n  let match = _RE.exec(hash);\n  return (match && match[1]) || \"\";\n};\n\nexport default F.component(null, {\n  template: '{{#name}}<div f-component=\"{{name}}\" />{{/name}}' +\n    '{{^name}}`DefaultComponent` is not defined{{/name}}',\n  current: getComponentName(location.hash),\n  init: function(name, el, parent) {\n    this._super(name, el, parent);\n    this.subscribe(\"onpopstate\", (topic, hash) => {\n      let component = getComponentName(hash);\n      if (this.current != component) {\n        this.current = component;\n        this.load();\n      }\n    });\n  },\n  getData: function(cb, param) {\n    cb({\n      name: this.current || this.DefaultComponent\n    });\n  },\n});\n\nwindow.onpopstate = function(){\n  F.Pubsub.publish(\"onpopstate\", location.hash);\n};\n\n"],"names":[],"mappings":";;;;;;EAAA,IAAM,MAAM,yBAAN;AACN,EAAA,IAAI,mBAAmB,SAAnB,gBAAmB,CAAS,IAAT,EAAe;AACpC,EAAA,MAAI,QAAQ,IAAI,IAAJ,CAAS,IAAT,CAAR,CADgC;AAEpC,EAAA,SAAO,KAAC,IAAS,MAAM,CAAN,CAAT,IAAsB,EAAvB,CAF6B;GAAf;;AAKvB,eAAe,EAAE,SAAF,CAAY,IAAZ,EAAkB;AAC/B,EAAA,YAAU,qDACR,qDADQ;AAEV,EAAA,WAAS,iBAAiB,SAAS,IAAT,CAA1B;AACA,EAAA,QAAM,cAAS,IAAT,EAAe,EAAf,EAAmB,MAAnB,EAA2B;;;AAC/B,EAAA,SAAK,MAAL,CAAY,IAAZ,EAAkB,EAAlB,EAAsB,MAAtB,EAD+B;AAE/B,EAAA,SAAK,SAAL,CAAe,YAAf,EAA6B,UAAC,KAAD,EAAQ,IAAR,EAAiB;AAC5C,EAAA,UAAI,YAAY,iBAAiB,IAAjB,CAAZ,CADwC;AAE5C,EAAA,UAAI,MAAK,OAAL,IAAgB,SAAhB,EAA2B;AAC7B,EAAA,cAAK,OAAL,GAAe,SAAf,CAD6B;AAE7B,EAAA,cAAK,IAAL,GAF6B;SAA/B;OAF2B,CAA7B,CAF+B;KAA3B;AAUN,EAAA,WAAS,iBAAS,EAAT,EAAa,KAAb,EAAoB;AAC3B,EAAA,OAAG;AACD,EAAA,YAAM,KAAK,OAAL,IAAgB,KAAK,gBAAL;OADxB,EAD2B;KAApB;GAdI,CAAf;;AAqBA,EAAA,OAAO,UAAP,GAAoB,YAAU;AAC5B,EAAA,IAAE,MAAF,CAAS,OAAT,CAAiB,YAAjB,EAA+B,SAAS,IAAT,CAA/B,CAD4B;GAAV;;;;"}