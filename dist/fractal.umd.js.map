{"version":3,"file":"fractal.umd.js","sources":["../src/class.js","../src/pubsub.js","../src/config.js","../src/component.js","../src/router.js","../src/index.js"],"sourcesContent":["/* Simple JavaScript Inheritance\n * By John Resig http://ejohn.org/\n * MIT Licensed.\n */\n// Inspired by base2 and Prototype\nvar initializing = false, fnTest = /xyz/.test(function(){xyz;}) ? /\\b_super\\b/ : /.*/;\nvar Class = function(){};\nClass.extend = function(prop) {\n  var _super = this.prototype;\n  var callee = this.extend;\n\n  initializing = true;\n  var prototype = new this();\n  initializing = false;\n\n  for (var name in prop) {\n    prototype[name] = typeof prop[name] == \"function\" &&\n      typeof _super[name] == \"function\" && fnTest.test(prop[name]) ?\n      (function(name, fn){\n        return function() {\n          var tmp = this._super;\n          this._super = _super[name];\n\n          var ret = fn.apply(this, arguments);\n          this._super = tmp;\n\n          return ret;\n        };\n      })(name, prop[name]) :\n    prop[name];\n  }\n\n  var Class = function(){\n    if ( !initializing && this.init )\n      this.init.apply(this, arguments);\n  }\n\n  Class.prototype = prototype;\n  Class.prototype.constructor = Class;\n\n  Class.extend = this.extend;\n  return Class;\n};\n\nexport default Class\n","let topics = {}, seq = 0;\n\nexport default {\n  publish: function(topic, data, publisher) {\n    var subscribers = topics[topic];\n    for (var i in subscribers) subscribers[i].cb(topic, data, publisher);\n  },\n  subscribe: function(topic, cb, subscriber) {\n    console.debug(\"subscribe\", topic);\n    if (!topics[topic]) topics[topic] = [];\n    var token = ++seq;\n    topics[topic].push({\n      token: token,\n      subscriber: subscriber,\n      cb: cb\n    });\n    return token;\n  },\n  unsubscribe: function(topic, token) {\n    console.debug(\"unsubscribe\", topic);\n    if (!(topic in topics)) return;\n    var subscribers = topics[topic];\n    for (var i in subscribers) {\n      if (subscribers[i].token === token) {\n        subscribers.splice(i, 1);\n        break;\n      }\n    }\n    if (subscribers.length === 0) delete topics[topic];\n  },\n  getSubscribers: function(topic) {\n    if (!(topic in topics)) return [];\n    return topics[topic].map(function(v){ return v.subscriber; });\n  },\n};\n\n","import Pubsub from './pubsub'\n\nexport default {\n  compile: function(text) { return text; },\n  render: function(template, data) {},\n  Pubsub: Pubsub,\n  require: {\n    // component: require.context('./component', false, /^\\.\\/.*\\.js$/),\n    // template: require.context('./template', false, /^\\.\\/.*\\.html$/),\n  },\n}\n","import Class from './class'\nimport Config from './config'\n\nconst COMPONENT_ATTR = 'f-component'\nlet knownComponents = {};\nlet knownTemplates = {};\n\nexport const Component = Class.extend({\n  init: function(name, $container) {\n    this.name = name;\n    this.$container = $container;\n    this.complete = false;\n    this.subTokens = {};\n    this.$ = this.$container.find.bind(this.$container);\n    this.$container.on('destroyed', this.destroyed.bind(this));\n\n    if (!this.template) {\n      this.template = getTemplate(this.templateName || this.name);\n    }\n  },\n  getData: function(cb, param) {\n    if (this.data && typeof(this.data) === 'function') this.data(cb, param);\n    else cb(this.data || {});\n  },\n  render: function(data, template, cb, param) {\n    this.$container.html(Config.render(template, data));\n    cb();\n  },\n  rendered: function(param){},\n  loadChildren: function(cb, param) {\n    build(this.$container, param, cb);\n  },\n  loaded: function(cb, param){\n    cb();\n  },\n  destroyed: function(param){\n    for (var topic in this.subTokens) Config.Pubsub.unsubscribe(this.subTokens[topic]);\n  },\n  // main entry\n  load: function(param, cb) {\n    param = param || {};\n    console.time('Component.' + this.name);\n    this.complete = false;\n    this.getData(data => {\n      this.render(data, this.template, () => {\n        this.rendered(param);\n        this.loadChildren(() => {\n          this.complete = true;\n          this.loaded(() => {\n            console.timeEnd('Component.' + this.name);\n            this.$container.removeAttr(COMPONENT_ATTR);\n          }, param)\n        }, param)\n      }, param)\n    }, param)\n  },\n  // pubsub\n  publish: function(topic, data) {\n    Config.Pubsub.publish(topic, data, this);\n  },\n  subscribe: function(topic, cb) {\n    this.subTokens[topic] = Config.Pubsub.subscribe(topic, cb, this);\n  },\n});\n\nexport function build($root, param, cb){\n  let els = $root.find('[' + COMPONENT_ATTR + ']');\n  if (!els.length) return cb();\n\n  let complete = 0;\n  els.each((i, el) => {\n    let $container = $(el);\n    let name = $container.attr(COMPONENT_ATTR);\n    let Class = getComponent(name);\n    let c = new Class(name, $container);\n    c.load(param, () => {\n      if (++complete === len) cb();\n    });\n  });\n}\n\nfunction getTemplate(name) {\n  if (name in knownTemplates){\n    return knownTemplates[name];\n  } else {\n    let template = Config.require.template(\"./\" + name + \".html\");\n    if (template) {\n      if (Config.compile) {\n        template = Config.compile(template);\n      }\n      knownTemplates[name] = template;\n      return template;\n    }\n  }\n  console.error(\"Template not found: \" + name);\n  return \"\";\n}\n\nfunction getComponent(name) {\n  if (name in knownComponents) {\n    return knownComponents[name];\n  } else {\n    let Class = Config.require.component(\"./\" + name);\n    if (Class) {\n      knownComponents[name] = Class;\n      return Class;\n    }\n  }\n  console.error(\"Component not found: \" + name);\n  return Component;\n}\n\nexport function define(name, props, base) {\n  var c = (base || Component).extend(props || {});\n  knownComponents[name] = c;\n  return c;\n}\n\n","import {Component} from './component'\nimport Config from './config'\n\nconst _RE = /^#([0-9a-zA-Z_\\-\\/\\.]+)/\nlet getComponentName = function(hash) {\n  let match = _RE.exec(hash);\n  return (match && match[1]) || \"\";\n};\n\nexport default Component.extend({\n  template: '{{#name}}<div f-component=\"{{name}}\" />{{/name}}' +\n    '{{^name}}`DefaultComponent` is not defined{{/name}}',\n  current: getComponentName(location.hash),\n  init: function(name, $container) {\n    this._super(name, $container);\n    this.subscribe(\"onpopstate\", (topic, hash) => {\n      let component = getComponentName(hash);\n      if (this.current != component) {\n        this.current = component;\n        this.load();\n      }\n    });\n  },\n  data: function(cb, param) {\n    cb({\n      name: this.current || this.DefaultComponent\n    });\n  },\n});\n\nwindow.onpopstate = function(){\n  Config.Pubsub.publish(\"onpopstate\", location.hash);\n};\n\n","import {define, build} from './component'\nimport Config from './config'\nimport Router from './router'\n\nexport default {\n  component: define,\n  Router: Router,\n  init: function(options) {\n    for (let k in Config) {\n      if (options[k]) Config[k] = options[k];\n    }\n  },\n  build: function($root, cb) {\n    build($root, {}, function(){\n      if (cb) cb();\n    });\n  },\n  Pubsub: Config.Pubsub,\n}\n\n"],"names":[],"mappings":"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"}